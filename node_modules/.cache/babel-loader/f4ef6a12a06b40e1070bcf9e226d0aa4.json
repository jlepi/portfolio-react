{"ast":null,"code":"var _jsxFileName = \"/Users/jlepiesza/Documents/FSWD/portfolio-react/src/components/pages/Listing.js\";\nimport React, { useEffect, useState } from 'react';\nimport { Container, Row, Table, Button } from 'reactstrap';\nimport parseJwt from '../../helpers/authHelper';\nimport { useHistory } from \"react-router-dom\";\n\nconst Listings = () => {\n  let history = useHistory();\n  const token = sessionStorage.getItem('token');\n  const user = parseJwt(token).username;\n  const [listing, setListing] = useState([]);\n\n  const logout = event => {\n    event.preventDefault();\n    sessionStorage.removeItem('token');\n    history.push(\"/login\");\n  };\n\n  useEffect(() => {\n    const getData = async () => {\n      const response = await fetch('http://localhost:4000/contact_form/entries', {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      const data = await response.json();\n      setListing(data);\n    };\n\n    getData();\n  }, [token]);\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 17\n    }\n  }, \"Messages: \", user)), /*#__PURE__*/React.createElement(Table, {\n    responsive: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 21\n    }\n  }, \"ID\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 21\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 21\n    }\n  }, \"Phone Number\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 21\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 21\n    }\n  }, \"Message\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  }, listing.length === 0 && /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    colSpan: \"5\",\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 69\n    }\n  }, \"No listings found\"))), listing.length > 0 && listing.map(entry => /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 46\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 50\n    }\n  }, entry.id), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 69\n    }\n  }, entry.name), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 90\n    }\n  }, entry.phoneNumber), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 118\n    }\n  }, entry.email), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 140\n    }\n  }, entry.content))))), /*#__PURE__*/React.createElement(Row, {\n    className: \"my-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: logout,\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, \"Logout\")));\n};\n\nexport default Listings;","map":{"version":3,"sources":["/Users/jlepiesza/Documents/FSWD/portfolio-react/src/components/pages/Listing.js"],"names":["React","useEffect","useState","Container","Row","Table","Button","parseJwt","useHistory","Listings","history","token","sessionStorage","getItem","user","username","listing","setListing","logout","event","preventDefault","removeItem","push","getData","response","fetch","method","headers","data","json","length","map","entry","id","name","phoneNumber","email","content"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { Container, Row, Table, Button } from 'reactstrap'\nimport parseJwt from '../../helpers/authHelper'\nimport { useHistory } from \"react-router-dom\";\n\n\nconst Listings = () => {\n    let history = useHistory();\n    const token = sessionStorage.getItem('token')\n    const user = parseJwt(token).username\n    const [listing, setListing] = useState([])\n    const logout = event => {\n        event.preventDefault()\n        sessionStorage.removeItem('token')\n        history.push(\"/login\")\n    }\n    useEffect(() => {\n        const getData = async () => {\n            const response = await fetch('http://localhost:4000/contact_form/entries', {\n                method: 'GET',\n                headers: {\n                    'Authorization': `Bearer ${token}`\n                }\n            })\n            const data = await response.json()\n            setListing(data)\n        }\n        getData()\n    }, [token])\n    return (\n        <Container>\n            <Row>\n                <h2>Messages: {user}</h2>\n            </Row>\n            <Table responsive>\n                <thead>\n                    <tr>\n                    <th>ID</th>\n                    <th>Name</th>\n                    <th>Phone Number</th>\n                    <th>Email</th>\n                    <th>Message</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {listing.length === 0 &&\n                        <tr><td colSpan=\"5\" className=\"text-center\"><i>No listings found</i></td></tr>\n                    }\n                    {listing.length > 0 &&\n                        listing.map(entry => <tr><td>{entry.id}</td><td>{entry.name}</td><td>{entry.phoneNumber}</td><td>{entry.email}</td><td>{entry.content}</td></tr>)\n                    }\n                </tbody>\n            </Table>\n        <Row className=\"my-5\">\n            <Button onClick={logout} color=\"primary\">Logout</Button>\n        </Row>\n        </Container>\n    )\n}\n\nexport default Listings"]},"metadata":{},"sourceType":"module"}